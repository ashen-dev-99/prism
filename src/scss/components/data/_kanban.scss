// =============================================================================
// KANBAN COMPONENTS
// =============================================================================

.kanban {
  display: flex;
  gap: var(--spacing-lg);
  overflow-x: auto;
  padding: var(--spacing-md);
  min-height: 500px;

  // Kanban column
  &__column {
    background: var(--bg-hover);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    min-width: 280px;
    max-width: 320px;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
  }

  // Kanban header
  &__header {
    padding: var(--spacing-md);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  // Kanban title
  &__title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
    margin: 0;
  }

  // Kanban count
  &__count {
    background: var(--primary-color);
    color: white;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    padding: 0.125rem 0.5rem;
    border-radius: var(--border-radius-pill);
    min-width: 1.5rem;
    text-align: center;
  }

  // Kanban content
  &__content {
    flex: 1;
    padding: var(--spacing-sm);
    overflow-y: auto;
    min-height: 200px;
  }

  // Kanban card
  &__card {
    background: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    box-shadow: var(--shadow-xs);

    &:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-1px);
    }

    &.dragging {
      opacity: 0.5;
      transform: rotate(5deg);
    }

    &.drag-over {
      border-color: var(--primary-color);
      background: var(--bg-hover);
    }
  }

  // Card header
  &__card-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: var(--spacing-sm);
  }

  // Card title
  &__card-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--text-color);
    margin: 0;
    line-height: 1.3;
    flex: 1;
    margin-right: var(--spacing-sm);
  }

  // Card menu
  &__card-menu {
    background: none;
    border: none;
    color: var(--text-muted);
    cursor: pointer;
    padding: var(--spacing-xxs);
    border-radius: var(--border-radius);
    transition: all var(--transition-fast);
    flex-shrink: 0;

    &:hover {
      background: var(--bg-hover);
      color: var(--text-color);
    }
  }

  // Card description
  &__card-description {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    line-height: 1.4;
    margin-bottom: var(--spacing-sm);
  }

  // Card meta
  &__card-meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: var(--font-size-xs);
    color: var(--text-muted);
  }

  // Card assignee
  &__card-assignee {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
  }

  &__card-avatar {
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    background: var(--primary-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
  }

  // Card priority
  &__card-priority {
    padding: 0.125rem 0.375rem;
    border-radius: var(--border-radius-pill);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);

    &--high {
      background: var(--danger-color);
      color: white;
    }

    &--medium {
      background: var(--warning-color);
      color: var(--text-color);
    }

    &--low {
      background: var(--success-color);
      color: white;
    }
  }

  // Card tags
  &__card-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xxs);
    margin-bottom: var(--spacing-sm);
  }

  &__card-tag {
    background: var(--bg-hover);
    color: var(--text-muted);
    font-size: var(--font-size-xs);
    padding: 0.125rem 0.375rem;
    border-radius: var(--border-radius-pill);
  }

  // Kanban footer
  &__footer {
    padding: var(--spacing-sm);
    border-top: 1px solid var(--border-color);
  }

  &__add-card {
    width: 100%;
    background: none;
    border: 1px dashed var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-sm);
    color: var(--text-muted);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-sm);

    &:hover {
      border-color: var(--primary-color);
      color: var(--primary-color);
      background: var(--bg-hover);
    }
  }

  // Kanban variations
  &--compact {
    gap: var(--spacing-md);
    
    .kanban__column {
      min-width: 240px;
      max-width: 280px;
    }
    
    .kanban__card {
      padding: var(--spacing-sm);
    }
    
    .kanban__card-title {
      font-size: var(--font-size-xs);
    }
  }

  &--large {
    gap: var(--spacing-xl);
    
    .kanban__column {
      min-width: 350px;
      max-width: 400px;
    }
    
    .kanban__card {
      padding: var(--spacing-lg);
    }
    
    .kanban__card-title {
      font-size: var(--font-size-base);
    }
  }

  &--dark {
    .kanban__column {
      background: var(--bg-dark-hover);
      border-color: var(--border-dark);
    }
    
    .kanban__card {
      background: var(--bg-dark);
      border-color: var(--border-dark);
      color: var(--text-light);
    }
    
    .kanban__card-title {
      color: var(--text-light);
    }
    
    .kanban__card-description {
      color: var(--text-muted-light);
    }
  }
}

// Responsive
@media (max-width: 768px) {
  .kanban {
    flex-direction: column;
    gap: var(--spacing-md);
    
    .kanban__column {
      min-width: none;
      max-width: none;
    }
    
    .kanban__content {
      min-height: 150px;
    }
  }
} 